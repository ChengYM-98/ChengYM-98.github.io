---
title: 浏览器解析过程
date: 2022-10-14 14:30:31
tags: 浏览器
categories: 前端基础
cover: /img/04.jpg
---

# 浏览器解析过程

1. 用户输入url并回车；
2. 进行DNS解析获得IP： 先搜索浏览器自身dns缓存； 再找本机dns缓存；如找到且未过期则搜索停止，如未找到，则向本地配置的首选dns服务器发起域名解析请求，后续由运营商的dns服务器查到或进一步发送请求，直到拿到域名对应的ip并返回给浏览器；
3. 发起TCP协议的三次握手：
   + 第一次握手：建立连接时，客户端发送syn(建立联机)包到服务器，并进入syn_send状态，等待服务器确认；
   + 第二次握手：服务器收到syn包，确认包信息，同时自己也发送一个syn + ack(确认)包并进入syn_recv状态;
   + 第三次握手：客户端收到syn+ack包，向服务器发送ack包，发送完后，客户端和服务器都进入established状态，完成三次握手；
4. 建立tcp连接后发起http请求；
5. 服务器收到http请求并响应，浏览器收到http代码；
6. 浏览器进行HTML文档解析并构建DOM树；
7. 遇到css样式如link或style标签则开始解析css并构建样式树；（HTML解析和css解析相互独立）
8. 遇到script标签则停止DOM解析并开始下载js并解析js，异步下载js的情况下，执行js仍会阻塞；
9. 解析完dom树和样式树后进行渲染树（render tree）的构建；
10. 渲染树构建后进行布局（Layout）
11. 遍历渲染树，绘制页面。

# 计算机网络体系结构
## 参考模型
![计算机参考模型](../../images/49015431e20b9e45fb1475c8474e3f2d23ca8159d620ea613929664ec1e665d3.png)

## 数据传输格式
![数据传输格式](../../images/2780b655bb36cdb51b51999e45377ec8dc57916f90d7a5f7de2b38c0bbfdb1f1.png)

# 物理层
![图 3](../../images/3a3939b6fbdfde968ef0b479259fc2de7ba715f9407bb9af6da849337c32a008.png)

# 数据链路层
![数据链路层](../../images/6f62781ddeeebd86662cd5b32cbba64dde468e4ea54daa2960b0f36a4a91ef08.png)

# 网络层
![网络层](../../images/55bcb7419443a9753c41f34159bdf5b14e90ce4d15c2ac2d3d646e728368cda8.png)

# 传输层
![传输层](../../images/ad1e4ce6815f8e08954c582b2b05d7b49f01f52547e652a1626189acd50dff7f.png)

# 应用层
![应用层](../../images/b1679c789777072b378bec7322baa5a6463b2a91829b5caf72467356ba37f15e.png)
